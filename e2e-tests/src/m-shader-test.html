<m-light type="point" intensity="900" x="0" y="15" z="15"></m-light>

<m-shader
  id="simple-shader"
  width="10"
  height="10"
  y="5"
  frag="
  void main() {
    vec2 uv = 1. * vUv;
    vec3 color = vec3(fract(uv), 0.0);
    gl_FragColor = vec4(color, 1.0);
  }
"
>
</m-shader>

<script>
  const element = document.getElementById("simple-shader");
  let scale = 1;
  element.addEventListener("click", (event) => {
    element.setAttribute(
      "frag",
      `
      void main() {
        vec2 uv = ${(++scale).toFixed(1)} * vUv;
        vec3 color = vec3(fract(uv), 0.0);
        gl_FragColor = vec4(color, 1.0);
      }
    `,
    );
    element.setAttribute("data-scale", scale);
  });
</script>
